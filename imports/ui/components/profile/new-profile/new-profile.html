<template name="newProfile">
  <div class="row">
    <div class="col form s12 m8 push-m2 push-l2 l8 z-depth-1">
      <p class="flow-text">{{i18n 'profile.create_to_continue'}}</p>
      {{#autoForm collection=usersCollection doc=currentUser  schema=usersSchema
            id="newProfileForm" type="update" validation="submitThenBlur" trimStrings="true" removeEmptyStrings="true"}}
        <div class="row">
          <div class="input-field col s12">
            <input type="text" value="{{ email }}" disabled="true">
            <label class="active">{{i18n 'profile.email'}}</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s4">
            {{> afQuickField name='profile.firstName' title=(i18n 'form.mandatory') label=(i18n 'profile.first_name') }}
          </div>
          <div class="input-field col s8">
            {{> afQuickField name='profile.lastName' title=(i18n 'form.mandatory') label=(i18n 'profile.last_name') }}
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
              {{> afQuickField name='profile.gender' label=(i18n 'profile.gender') firstOption=(i18n 'form.select_one') }}
          </div>
          <div class="input-field col s6">
              {{> afQuickField name='profile.birthDate' type='date' label=(i18n 'profile.birth_date') }}
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            {{> afQuickField name='profile.countryId' label=(i18n 'profile.country') firstOption=(i18n 'form.select_one') }}
          </div>
          <div class="input-field col s6">
            {{> afQuickField name='profile.passport' label=(i18n 'profile.passport') }}
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            {{> afQuickField name='profile.phone' type='tel' label=(i18n 'profile.phone')}}
          </div>
          <div class="input-field col s6">
            {{> afQuickField name='profile.locality' label=(i18n 'profile.locality')}}
          </div>
        </div>
        {{> afQuickField name='profile.clubName' class='typeahead active' data-source='clubs' autocomplete='off' spellcheck='off' data-select='selectedClub' label=(i18n 'profile.club') }}
        {{> afQuickField name='profile.clubId' type="hidden" }}
        {{> afQuickField name='profile.name'}}
        <div class="row">            
          <div class="col s12 privacy-policy">
            <span class="help-block">{{i18n 'profile.text_privacy'}}
              <a class="privacyPolicy modal-trigger" data-target="modalPrivacyPolicy" href="#modalPrivacyPolicy">{{i18n 'profile.privacy_policy'}}</a>.</span>
          </div>
        </div>
        <div class="row">            
          <div class="col s12">
            {{> afQuickField name='profile.acceptPolicy' type='boolean-checkbox' title=(i18n 'form.mandatory') label=(i18n 'profile.i_accept') }}
          </div>          
        </div>
        <div class="row">            
            <div class="col s12 buttons">
                <div class="form-group">
                    <button type="submit" class="btn btn-primary add-checkpoint-button">{{i18n 'button.continue'}}</button>
                </div>
            </div>
        </div>
      {{/autoForm}}
    </div>
  </div>
  <div id="modalPrivacyPolicy" class="modal modal-fixed-footer">
    <div class="modal-content">
      {{> privacyPolicy }}
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close btn-flat ">{{i18n 'button.close'}}</a>
    </div>    
  </div>    
</template>