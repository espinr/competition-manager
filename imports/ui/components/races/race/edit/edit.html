<template name="editRace">
        <div id="modalNewCategory" class="modal modal-fixed-footer">
            {{> newCategoryModal raceId=raceId }}
        </div>   
    

    <div class="row">
        <div class="col s12 m8 push-m2 push-l2 l8 z-depth-1">                  
            {{#autoForm collection=racesCollection id="editRaceForm" doc=currentRace type="update" validation="blur"}}
                <p class="flow-text">Race <strong>{{ currentRace.identifier }}</strong></p>
                {{> afQuickField name='identifier' }}
                {{> afQuickField name='name' }}
                {{> afQuickField name='description' type='textarea' }}                
    
                <div class="row">
                    <div class="input-field col s12">
                        <label class="active">Picture</label>
                        <div class="gallery-photos">
                            <div class="picture placeholder" id="picture-preview">
                                <i class="material-icons">photo_camera</i>
                            </div>
                        </div>
                        <input id="new-picture-input" type="file" accept="image/*" capture>
                    </div>
                </div>
    
                {{> afQuickField name='picture' type='hidden'}}
                <div class="row">
                    <div class="col s6">
                        {{> afQuickField name='startDate'}}
                    </div>
                    <div class="col s6">
                        {{> afQuickField name='startTime'}}
                    </div>
                </div>                
                <div class="row">
                    <div class="col s6">
                        {{> afQuickField name='dateOpenRegistration'}}
                    </div>
                    <div class="col s6">
                        {{> afQuickField name='dateCloseRegistration'}}
                    </div>
                </div>                

                {{> afQuickField name='location' }}
     
                <div class="row">
                    <div class="col s6">
                        {{> afQuickField name='competitionType' }}
                    </div>
                    <div class="col s6">
                    </div>
                </div>

                <div class="row">
                    <div class="col s6">
                        {{> afQuickField name='maxCompetitors' }}
                    </div>
                    <div class="col s6">
                        {{> afQuickField name='bibsReserved'}}
                    </div>
                </div>

                <div class="row categories-box">
                    <ul class="collapsible expandable collapsible-raceInfo">
                        <li>
                            <div class="collapsible-header">Individual categories</div>
                            <div class="collapsible-body">                        
                                {{> afQuickField name='categories' options=categoryOptions type='select-checkbox-inline'}} 
                                <a class="btn btn-flat" id="add-new-category" href="#!">Create a category</a>
                            </div>
                        </li>
                        <li class="teamCategories">
                            <div class="collapsible-header">Team categories</div>
                            <div class="collapsible-body">                        
                                {{> afQuickField name='teamCategories' options=teamCategoryOptions type='select-checkbox-inline'}}         
                            </div>
                        </li>
                    </ul>
                </div>
        
                {{> afQuickField name='kmlCourse' class='no-resize'}}
                {{> afQuickField name='distance' }}
    
                {{> afQuickField name='checkpoints' }}

                <div class="row">
                    <div class="col s6">
                        {{> afQuickField name='organizerName' }}
                    </div>
                    <div class="col s6">
                        {{> afQuickField name='organizerEmail' }}
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        {{> afQuickField name='organizerUrl' }}
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        {{> afQuickField name='privateEvent' type='boolean-checkbox' }}
                    </div>
                </div>
                                
                <div class="row">            
                    <div class="col s12 buttons">
                        <div class="form-group">
                            <a href="#!" class="btn btn-secondary delete-race-button">Delete</a>
                            <button type="submit" class="btn btn-primary add-race-button">Update</button>
                            <button class="btn btn-default goBack-button">Cancel</button>
                        </div>
                    </div>
                </div>
            {{/autoForm}}
        </div>
    </div>
    <div id="modalConfirmDeletePicture" class="modal modal-fixed-footer">
        <div class="modal-content">
            <h4>Are you sure?</h4>
            <p>Do you want to delete the picture?</p>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-action modal-ok btn-flat ">OK, Delete</a>            
            <a href="#!" class="modal-action modal-close btn-flat ">Cancel</a>
        </div>    
    </div>    
    <div id="modalConfirmDeleteRace" class="modal modal-fixed-footer">
        <div class="modal-content">
            <h4>Are you sure?</h4>
            <p>Do you want to delete the race?</p>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-action modal-ok btn-flat ">OK, Delete</a>            
            <a href="#!" class="modal-action modal-close btn-flat ">Cancel</a>
        </div>    
    </div>        
</template>