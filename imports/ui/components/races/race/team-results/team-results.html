<template name="raceTeamResults">    

  {{#let race=currentRace checkpoint=currentCheckpoint resultList=currentResultList}}

  <div class="container">
      <ul class="collapsible expandable collapsible-raceInfo">
        <li>
          <div class="collapsible-header"><i class="material-icons">info</i>General Info</div>
          <div class="collapsible-body">
            {{ #if isAdminUser }}
              ID: <strong>{{ race.identifier }}</strong><br>
            {{ /if }}
            <h5>{{ race.name }}</h5>
            <div>{{ escapeHTML(race.description) }}</div>
            <p>{{ distanceRace(race) }}</p>
            <p>{{i18n 'races.view.location'}}: {{ race.location.name }}</p>
            <p>{{ organizerText(race) }}</p>
            {{ #if isAdminUser }}
              <a href="{{ pathFor 'admin.races.edit' raceId=race._id }}" title="Edit race"><i class="material-icons">edit</i>{{i18n 'races.view.edit'}}</a>
            {{ /if }}  
          </div>
        </li>
      </ul>
  </div>

    <div class="row">
        <div class="col s4">
            <div class="card-panel stopwatch-small white-text black" id="stopwatch">
                {{> stopwatchCompetition deviceId=checkpointId raceId=idRace }}
            </div>
        </div>
        <div class="input-field col s4">
            <select name="category" id="select-category">
                {{ #each teamCategory in (teamCategories race) }}
                    <option value="{{ teamCategory._id }}">{{ #if teamCategory.recognizingAuthorityCode }}[{{ teamCategory.recognizingAuthorityCode }}]{{/if}} {{ teamCategory.name }}</option>
                {{ /each }}
            </select>
            <label>{{i18n 'races.results.current_category'}}</label>
        </div>
        <div class="col s2 count-athletes">
            <i>{{ scoringAthletes }} {{i18n 'races.results.scoring_athletes'}}</i><br>
            <i>{{ numberTeamsFinishedOverall }} {{i18n 'races.results.teams_completed'}}</i><br>
            <i>{{ numberAthletesStarted }} {{i18n 'races.results.team_starters'}}</i>
        </div>
        <div class="col s2 count-athletes">
            {{i18n 'races.results.status'}}: {{ resultList.status }}<br>
            <a href="#" title="Print" id="print-button"><i class="material-icons">print</i>{{i18n 'races.results.print'}}</a>
        </div>
    </div>

      {{> reactiveTable 
        class="table bordered striped resultsTable" 
        collection=resultEntries
        showFilter=true
        settings=settingsTable
        currentRace=currentRace
        currentCheckpoint=checkpoint
        scoringAthletes=scoringAthletes
        maxLapNumberCompleted=maxLapNumberCompleted
        firstCompetitorTimestamp=firstCompetitorTimestamp }}

  {{/let}}

</template>
